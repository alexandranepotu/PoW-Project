<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inbox - Pet Adoption</title>
  <link rel="stylesheet" href="../assets/navbar.css">
  <link rel="stylesheet" href="../assets/style.css">
  <link rel="stylesheet" href="../assets/inbox.css">
</head>
<body>
<header>
  <a href="dashboard.html" class="logo">Pet Adoption</a>
  <nav>
    <a href="animale.html">Adopt</a>    <div class="inbox-dropdown">
      <div class="inbox-text">
        <span>Inbox</span>
      </div>
      <div class="dropdown-content">
        <a href="inbox.html">Messages</a>
        <a href="submitted-applications.html">Submitted Applications</a>
        <a href="received-applications.html">Received Applications</a>
      </div>
    </div>
    <div class="profile-dropdown">
      <div class="profile-text">
        <span>Profile</span>
      </div>
      <div class="dropdown-content">
        <a href="mypets.html">My Pets</a>
        <a href="profile.html">My Profile</a>
        <a href="#logout">Logout</a>
      </div>
    </div>
    <button class="theme-toggle" aria-label="Toggle theme">
      <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-3.03 0-5.5-2.47-5.5-5.5 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
    </button>
  </nav>
</header>

<main>
  <div class="inbox-layout">
    <div class="conversations-sidebar" id="conversationsSidebar">
      <div class="sidebar-header">
        <h1>Messages</h1>
        <div class="message-stats">
          <span id="totalConversations">0 conversations</span>
          <span id="unreadCount">0 unread</span>
        </div>
      </div>
      
      <div class="conversations-list" id="conversationsList">
        <div class="loading-state" id="loadingState">
          <div class="loading-spinner"></div>
          <p>Loading conversations...</p>
        </div>
        
        <div class="empty-state" id="emptyState" style="display: none;">
          <h3>No conversations yet</h3>
          <p>Your conversations about pet adoptions will appear here</p>
          <a href="animale.html" class="btn-primary">Browse Pets</a>
        </div>
      </div>
    </div>
    
    <div class="chat-fullscreen" id="chatFullscreen" style="display: none;">
      <div class="chat-header" id="chatHeader">
        <button class="btn-back" id="backToList">
          <svg viewBox="0 0 24 24" width="20" height="20">
            <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"/>
          </svg>
          Back to Messages
        </button>
        <div class="chat-info">
          <h3 id="chatTitle">Pet Name</h3>
          <p id="chatSubtitle">with Owner Name</p>
        </div>
        <div class="chat-actions">
          <button class="btn-minimize" id="minimizeChat" title="Minimize chat">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path fill="currentColor" d="M19,13H5V11H19V13Z"/>
            </svg>
          </button>
        </div>
      </div>
      
      <div class="messages-container" id="messagesContainer">
      </div>
      
      <div class="message-input-container">
        <form id="messageForm" class="message-form">
          <input type="text" id="messageInput" placeholder="Type your message..." maxlength="500" required>
          <button type="submit" class="btn-send">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
            </svg>
          </button>
        </form>
      </div>
    </div>
    
     <div class="welcome-screen" id="welcomeScreen">
      <div class="welcome-content">
        <h2>Welcome to Messages</h2>
        <p>Select a conversation from the sidebar to start chatting about pet adoptions</p>
      </div>
    </div>
  </div>
</main>  <script src="../js/utils/shared-utilities.js"></script>
  <script src="../js/utils/dropdown-manager.js"></script>
  <script src="../js/global-theme.js"></script>
  <script src="../js/navbar.js"></script>
<script src="../js/inbox.js"></script>
</body>
</html>
